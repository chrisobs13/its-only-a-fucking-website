<h1>interpret</h1>
<blockquote>
  <p>A dictionary of file extensions and associated module loaders.</p>
</blockquote>

<p><a href="https://nodei.co/npm/interpret/"><img src="https://nodei.co/npm/interpret.png" alt="NPM" /></a></p>

<h2>What is it</h2>
<p>This is used by <a href="http://github.com/tkellen/node-liftoff">Liftoff</a> to automatically require dependencies for configuration files, and by <a href="http://github.com/tkellen/node-rechoir">rechoir</a> for registering module loaders.</p>

<h2>API</h2>

<h3>extensions</h3>
<p>Map file types to modules which provide a <a href="http://nodejs.org/api/globals.html#globals_require_extensions">require.extensions</a> loader.
<code>js
{
  '.cjsx': 'node-cjsx/register',
  '.co': 'coco',
  '.coffee': 'coffee-script/register',
  '.coffee.md': 'coffee-script/register',
  '.csv': 'require-csv',
  '.iced': 'iced-coffee-script/register',
  '.iced.md': 'iced-coffee-script/register',
  '.ini': 'require-ini',
  '.js': null,
  '.json': null,
  '.json5': 'json5/lib/require',
  '.jsx': 'node-jsx',
  '.litcoffee': 'coffee-script/register',
  '.liticed': 'iced-coffee-script/register',
  '.ls': 'livescript',
  '.toml': 'toml-require',
  '.ts': 'typescript-require',
  '.xml': 'require-xml',
  '.yaml': 'require-yaml',
  '.yml': 'require-yaml'
}
</code></p>

<h3>register</h3>
<p>Check here to see if setup is needed for the module register itself with <a href="http://nodejs.org/api/globals.html#globals_require_extensions">require.extensions</a>.  If a method is returned, call it with the module.
<code>js
{
  'toml-require': function (module) {
    module.install();
  }
}
</code></p>

<h3>jsVariants</h3>
<p>Extensions which are javascript variants.</p>

<p><code>js
{
  '.cjsx': 'node-cjsx/register',
  '.js': null,
  '.co': 'coco',
  '.coffee': 'coffee-script/register',
  '.coffee.md': 'coffee-script/register',
  '.iced': 'iced-coffee-script/register',
  '.iced.md': 'iced-coffee-script/register',
  '.jsx': 'node-jsx',
  '.litcoffee': 'coffee-script/register',
  '.liticed': 'iced-coffee-script/register',
  '.ls': 'livescript',
  '.ts': 'typescript-require'
}
</code></p>

<h3>Example Usage</h3>
<p>```js
const interpret = require(‘interpret’);
const path = require(‘path’);
const resolve = require(‘resolve’);</p>

<p>// register support for a defined extension
function register(filepath, cwd) {
  // find the extension of the requested filename
  var ext = path.extname(filepath);
  // see if this extension is already supported
  if (Object.keys(require.extensions).indexOf(ext) !== -1) {
    return;
  }
  // if no cwd is specified, assume we want to use the
  // directory the requested file exists in
  if (!cwd) {
    cwd = path.dirname(path.resolve(filepath));
  }
  // find out which module is needed to read this extension
  var moduleName = interpret.extensions[ext];
  // if a module exists for this extension, make it usable
  if (moduleName) {
    // find the module relative to cwd that can add support for this extension
    var module = resolve.sync(moduleName, {basedir: cwd})
    // require it
    var compiler = require(module);
    // see if there is a method needed beyond requiring to enable support
    var register = interpret.register[moduleName];
    // if there is, run it
    if (register) {
      register(compiler);
    }
  }
}
```</p>

<p>Note: this is more or less exactly how <a href="http://github.com/tkellen/node-rechoir">rechoir</a> works.</p>
